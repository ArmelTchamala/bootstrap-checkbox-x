/*!
 * @copyright &copy; Kartik Visweswaran, Krajee.com, 2014
 * @version 1.5.1
 *
 * An extended checkbox plugin for bootstrap with three states and additional styles.
 *
 * For more JQuery/Bootstrap plugins and demos visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */!function(e){"use strict";var t=function(t,n){var i=this;i.$element=e(t),i.disabled=i.$element.attr("disabled")||i.$element.attr("readonly"),i.initialValue=i.$element.val(),i.init(n)};t.prototype={constructor:t,init:function(t){var n=this,i=n.$element,a=i.is(":checkbox"),c=i.val(),o=t.inline?"cbx-container":"cbx-container cbx-block";return n.options=t,n.skipChange=!1,a&&0!==c&&1!==c&&(i.attr("checked",!1),t.threeState&&i.prop("indeterminate",!0)),a&&t.useNative?(i.on("change",function(){n.change(!1)}),i.removeClass("cbx-loading"),void n.setCheckboxProp(i.val())):(void 0===n.$container?(n.$container=e(document.createElement("div")).addClass(o).html(n.render()),i.before(n.$container),n.$container.append(i),i.hide()):(n.$container.before(i),n.$container.addClass(o).html(n.render()),n.$container.append(i)),i.removeClass("cbx-loading"),n.$cbx=n.$container.find(".cbx"),i.closest("form").on("reset",function(){n.reset()}),n.$cbx.on("click",function(){(a||!t.threeState)&&(t.enclosedLabel||t.useNative||(t.threeState?n.change(!1):(n.skipChange=!0,n.change(!0))))}),n.$cbx.on("keyup",function(e){32===e.which&&n.change(!0)}),void(a&&!t.useNative?i.on("change",function(){n.change(!1,n.skipChange)}):i.on("click",function(){n.change(!1)})))},change:function(e){var t,n=this,i=n.$element,a=arguments.length>1&&arguments[1],c=n.options.useNative;n.disabled||(t=n.calculate(),a||i.val(t),!e||c||a?n.validateCheckbox(c,t):i.trigger("change"),c||n.$cbx.html(n.getIndicator()),a&&(n.skipChange=!1))},calculate:function(){var e=this,t=e.$element,n=parseInt(t.val()),i=e.options.threeState;return i?1===n?null:0===n?1:0:1===n?0:1},validateCheckbox:function(e,t){var n=this,i=n.$element,a=i.is(":checkbox");return a?void n.setCheckboxProp(t):void(e||i.trigger("change"))},setCheckboxProp:function(e){var t=this,n=t.$element,i=n.is(":checkbox");i&&(n.prop("indeterminate",!1),n.prop("checked",!1),1===e?n.prop("checked",!0):0!==e&&n.prop("indeterminate",!0))},reset:function(){var e=this,t=e.$element;t.val(e.initialValue),e.refresh(),t.trigger("checkbox.reset")},refresh:function(t){var n=this;arguments.length?n.init(e.extend(n.options,t)):(n.disabled=n.$element.attr("disabled")||n.$element.attr("readonly"),n.init(n.options)),n.initialValue=n.$element.val()},getIndicator:function(){var e=this,t=e.options,n=t.iconUnchecked,i=parseInt(e.$element.val());return 1===i?n=t.iconChecked:0!==i&&e.options.threeState&&(n=t.iconNull),n},render:function(){var e=this,t=e.getIndicator(),n=e.options.size,i=e.disabled?"":' tabindex="1000"',a="cbx cbx-"+n+(e.disabled?" cbx-disabled":" cbx-active");return'<div class="'+a+'"'+i+">"+t+"</div>"}},e.fn.checkboxX=function(n){var i=Array.apply(null,arguments);return i.shift(),this.each(function(){var a=e(this),c=a.data("checkboxX"),o="object"==typeof n&&n;c||a.data("checkboxX",c=new t(this,e.extend({},e.fn.checkboxX.defaults,o,e(this).data()))),"string"==typeof n&&c[n].apply(c,i)})},e.fn.checkboxX.defaults={threeState:!0,inline:!0,iconChecked:'<i class="glyphicon glyphicon-ok"></i>',iconUnchecked:" ",iconNull:'<i class="glyphicon glyphicon-stop"></i>',size:"md",enclosedLabel:!1,useNative:!1},e('input[data-toggle="checkbox-x"]').addClass("cbx-loading"),e(document).ready(function(){e('input[data-toggle="checkbox-x"]').checkboxX()})}(window.jQuery);