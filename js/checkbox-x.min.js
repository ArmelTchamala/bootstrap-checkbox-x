/*!
 * @copyright &copy; Kartik Visweswaran, Krajee.com, 2014 - 2015
 * @version 1.5.4
 *
 * An extended checkbox plugin for bootstrap with three states and additional styles.
 *
 * For more JQuery/Bootstrap plugins and demos visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */!function(e){"use strict";var n=function(n,t){var c=this;c.$element=e(n),c.disabled=c.$element.attr("disabled")||c.$element.attr("readonly"),c.initialValue=c.$element.val(),c.init(t)};n.prototype={constructor:n,init:function(n){var t=this,c=t.$element,a=c.is(":checkbox"),i=c.is("select"),o=!a&&!i,l=i&&!n.enclosedLabel,r=n.inline?"cbx-container":"cbx-container cbx-block";n.theme&&(r+=" cbx-"+n.theme),t.options=n,t.clearEvents(),c.removeClass("cbx-loading"),t.initCheckbox()&&(void 0===t.$container?(t.$container=e(document.createElement("div")).addClass(r).html(t.render()),t.$container.insertBefore(c).append(c),c.hide()):t.$container.before(c).addClass(r).html(t.render()).append(c),t.$cbx=t.$container.find(".cbx"),c.closest("form").on("reset.checkbox",function(){t.reset()}),t.$cbx.off("click.checkbox").on("click.checkbox",function(){return!a||n.enclosedLabel||n.useNative||t.disabled?void((o&&!n.enclosedLabel||l)&&t.change()):void c.trigger("change")}).on("keyup.checkbox",function(e){32===e.which&&(t.change(),e.preventDefault())}),a&&!n.useNative?c.on("change.checkbox",function(){t.change()}):(o||i)&&c.on("click.checkbox",function(){t.change()}))},initCheckbox:function(){var e=this,n=e.$element,t=n.val().toString(),c=e.options,a=t!==c.valueChecked&&t!==c.valueUnchecked,i=c.allowThreeValOnInit||c.threeState;return n.is(":checkbox")?(t!==c.valueUnchecked&&t!==c.valueChecked&&n.prop("checked",!1).prop("indeterminate",i),n.prop("checked")||(a&&i?n.val(e.valueNull):n.val(e.valueUnchecked)),c.useNative?(n.on("change.checkbox",function(){e.change()}).removeClass("cbx-loading"),i&&(!n.prop("checked")&&a?n.prop("indeterminate",!0):n.prop("indeterminate",!1)),!1):!0):!0},change:function(){var e,n=this,t=n.$element;n.disabled||(e=n.getValue(),t.val(e),n.validateCheckbox(e),n.options.useNative||n.$cbx.html(n.getIndicator()))},getValue:function(){var e=this,n=e.$element.val(),t=e.options;switch(n){case t.valueUnchecked:return e.options.threeState?t.valueNull:t.valueChecked;case t.valueChecked:return t.valueUnchecked;default:return t.valueChecked}},setCheckboxProp:function(e){var n=this,t=n.$element,c=n.options;switch(c.threeState&&t.prop("indeterminate",!1),t.prop("checked",!1),e){case c.valueChecked:t.prop("checked",!0);break;case c.valueUnchecked:break;default:c.threeState&&t.prop("indeterminate",!0)}},validateCheckbox:function(e){var n=this,t=n.$element,c=t.is(":checkbox");return c?void n.setCheckboxProp(e):void t.trigger("change")},clearEvents:function(){var e=this,n=e.$element,t=e.$container?e.$container.find(".cbx"):null;n.off(".checkbox"),t&&t.off(".checkbox")},destroy:function(){var e=this,n=e.$element;e.clearEvents(),e.$container.before(n).remove(),n.removeData().show()},reset:function(){var e=this,n=e.$element;n.val(e.initialValue),e.refresh(),n.trigger("resetinput.checkbox")},refresh:function(n){var t=this;n?t.init(e.extend(t.options,n)):(t.disabled=t.$element.attr("disabled")||t.$element.attr("readonly"),t.init(t.options)),t.initialValue=t.$element.val()},getIndicator:function(e){var n=this,t=n.options,c=t.iconUnchecked,a=n.$element.val(),i=a!==t.valueUnchecked&&(n.options.threeState||e);return'<span class="cbx-icon">'+(a===t.valueChecked?t.iconChecked:i?t.iconNull:c)+"</span>"},render:function(){var e=this,n=e.options,t=e.getIndicator(n.allowThreeValOnInit),c=e.disabled||!n.tabindex?"":' tabindex="'+n.tabindex+'"',a=n.size,i="cbx cbx-"+a+(e.disabled?" cbx-disabled":" cbx-active");return'<div class="'+i+'"'+c+">"+t+"</div>"}},e.fn.checkboxX=function(t){var c=Array.apply(null,arguments),a=[];switch(c.shift(),this.each(function(){var i=e(this),o=i.data("checkboxX"),l="object"==typeof t&&t;o||(o=new n(this,e.extend(!0,{},e.fn.checkboxX.defaults,l,i.data())),i.data("checkboxX",o)),"string"==typeof t&&a.push(o[t].apply(o,c))}),a.length){case 0:return this;case 1:return a[0];default:return a}},e.fn.checkboxX.defaults={theme:"",threeState:!0,inline:!0,iconChecked:'<i class="glyphicon glyphicon-ok"></i>',iconUnchecked:" ",iconNull:'<div class="cbx-icon-null"></div>',valueChecked:"1",valueUnchecked:"0",valueNull:"",size:"md",enclosedLabel:!1,useNative:!1,allowThreeValOnInit:!1,tabindex:"1000"},e.fn.checkboxX.Constructor=n,e('input[data-toggle="checkbox-x"]').addClass("cbx-loading"),e(document).ready(function(){e('input[data-toggle="checkbox-x"]').checkboxX()})}(window.jQuery);